<section class="w-80 mx-auto shadow rounded p-4 my-3 bg-main0light ">
  <div class="container h-100  mt-2">
    <form [formGroup]="registerForm" (ngSubmit)="handleForm()">
      <p class="text-center fs-4 fw-bold mb-5 mx-md-4 m-2 text-success ">Register Form</p>
      <div *ngIf="errMsg" class=" text-danger text-center my-2 " role="alert">
        {{errMsg}}
      </div>

      <div class="d-flex flex-row align-items-center mb-4">
        <i class="fas fa-user fa-lg me-3  text-success "></i>
        <div class="form-outline flex-fill mb-0">
          <label class="name" for="email">Name</label>
          <input class="form-control" formControlName="name" type="text" id="Name" />

          <div *ngIf="registerForm.get('name')?.errors && registerForm.get('name')?.touched">
            <p class="text-danger mt-2" *ngIf="registerForm.get('name')?.getError('required')">Name Is Required</p>
            <p class="text-danger mt-2" *ngIf="registerForm.get('name')?.getError('minlength')">Your name must be at
              least 3 characters long</p>
            <p class="text-danger mt-2" *ngIf="registerForm.get('name')?.getError('maxlength')">Your name cannot exceed
              20 characters</p>
          </div>

        </div>
      </div>

      <div class="d-flex flex-row align-items-center mb-4">
        <i class="fas fa-envelope fa-lg me-3 fa-fw text-success"></i>
        <div class="form-outline flex-fill mb-0">
          <label class="form-label" for="email">Your Email</label>
          <input class="form-control" formControlName="email" type="email" id="email" />

          <div *ngIf="registerForm.get('email')?.errors && registerForm.get('email')?.touched">
            <p class="text-danger mt-2" *ngIf="registerForm.get('email')?.getError('required')">Email Is Required</p>
            <p class="text-danger mt-2" *ngIf="registerForm.get('email')?.getError('email')">Enter vaid Email</p>
          </div>

        </div>
      </div>

      <div class="d-flex flex-row align-items-center mb-4">
        <i class="fas fa-lock fa-lg me-3 fa-fw text-success "></i>
        <div class="form-outline flex-fill mb-0 position-relative">

          <label class="form-label" for="password">Password</label>
          <input class="form-control" formControlName="password" [type]="showPassword ? 'text' : 'password'"
            id="password" />

          <i class="fas" [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'" (click)="togglePassword()"
            style="position: absolute; top: 40px; right: 10px; cursor: pointer; color: #6c757d;"></i>

          <div *ngIf="registerForm.get('password')?.errors && registerForm.get('password')?.touched">
            <p class="text-danger mt-2" *ngIf="registerForm.get('password')?.getError('required')">Password Is Required
            </p>
            <p class="text-danger mt-2" *ngIf="registerForm.get('password')?.getError('pattern')">
              password must have capital letter, a lowercase letter, a special character, and Numbers
            </p>
          </div>

        </div>

      </div>

      <div class="d-flex flex-row align-items-center mb-4">
        <i class="fas fa-key fa-lg me-3 fa-fw text-success "></i>
        <div class="form-outline flex-fill mb-0 position-relative ">

          <label class="form-label" for="rePassword">Confirm password</label>

          <input class="form-control" formControlName="rePassword" [type]="showRePassword  ? 'text' : 'password'"
            id="rePassword" />

          <i class="fas" [ngClass]="showRePassword ? 'fa-eye-slash' : 'fa-eye'" (click)="toggleRePassword()"
            style="position: absolute; top: 40px; right: 10px; cursor: pointer; color: #6c757d;"></i>

          <div *ngIf="registerForm.get('rePassword')?.errors && registerForm.get('rePassword')?.touched">
            <p class="text-danger mt-2" *ngIf="registerForm.get('rePassword')?.getError('required')">RePassword Is
              Required</p>
            <p class="text-danger mt-2" *ngIf="registerForm.get('rePassword')?.getError('mismatch')">Password
              confirmation is incorrect</p>
          </div>

        </div>

      </div>

      <div class="d-flex flex-row align-items-center mb-4">
        <i class="fas fa-phone fa-lg me-3 fa-fw  text-success"></i>
        <div class="form-outline flex-fill mb-0">

          <label class="form-label" for="phone">Phone</label>
          <input class="form-control" formControlName="phone" type="tel" id="phone" />

          <div *ngIf="registerForm.get('phone')?.errors && registerForm.get('phone')?.touched">
            <p class="text-danger mt-2" *ngIf="registerForm.get('phone')?.getError('pattern')">accept only egypt phone
              numbers
            </p>
          </div>

        </div>
      </div>

      <div class="d-flex justify-content-center mx-4 mb-3 mb-lg-4">
        <button [disabled]="registerForm.invalid" type="submit" class="main-btn  w-100">

          Register <span> <i *ngIf="spinner" class="fas fa-spin fa-spinner"></i> </span></button>

      </div>

    </form>

  </div>


</section>
