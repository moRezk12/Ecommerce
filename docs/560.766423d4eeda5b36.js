"use strict";(self.webpackChunkE_commerce=self.webpackChunkE_commerce||[]).push([[560],{6560:(Y,f,a)=>{a.r(f),a.d(f,{RegisterComponent:()=>b});var u=a(6814),n=a(95),e=a(4769),c=a(9410),d=a(1120);function h(t,i){if(1&t&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" ",o.errMsg," ")}}function w(t,i){1&t&&(e.TgZ(0,"p",30),e._uU(1,"Name Is Required"),e.qZA())}function Z(t,i){1&t&&(e.TgZ(0,"p",30),e._uU(1,"Your name must be at least 3 characters long"),e.qZA())}function x(t,i){1&t&&(e.TgZ(0,"p",30),e._uU(1,"Your name cannot exceed 20 characters"),e.qZA())}function v(t,i){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,w,2,0,"p",29),e.YNc(2,Z,2,0,"p",29),e.YNc(3,x,2,0,"p",29),e.qZA()),2&t){const o=e.oxw();let s,r,l;e.xp6(1),e.Q6J("ngIf",null==(s=o.registerForm.get("name"))?null:s.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("name"))?null:r.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(l=o.registerForm.get("name"))?null:l.getError("maxlength"))}}function T(t,i){1&t&&(e.TgZ(0,"p",30),e._uU(1,"Email Is Required"),e.qZA())}function I(t,i){1&t&&(e.TgZ(0,"p",30),e._uU(1,"Enter vaid Email"),e.qZA())}function R(t,i){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,T,2,0,"p",29),e.YNc(2,I,2,0,"p",29),e.qZA()),2&t){const o=e.oxw();let s,r;e.xp6(1),e.Q6J("ngIf",null==(s=o.registerForm.get("email"))?null:s.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("email"))?null:r.getError("email"))}}function P(t,i){1&t&&(e.TgZ(0,"p",30),e._uU(1,"Password Is Required "),e.qZA())}function C(t,i){1&t&&(e.TgZ(0,"p",30),e._uU(1," password must have capital letter, a lowercase letter, a special character, and Numbers "),e.qZA())}function q(t,i){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,P,2,0,"p",29),e.YNc(2,C,2,0,"p",29),e.qZA()),2&t){const o=e.oxw();let s,r;e.xp6(1),e.Q6J("ngIf",null==(s=o.registerForm.get("password"))?null:s.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("password"))?null:r.getError("pattern"))}}function A(t,i){1&t&&(e.TgZ(0,"p",30),e._uU(1,"RePassword Is Required"),e.qZA())}function U(t,i){1&t&&(e.TgZ(0,"p",30),e._uU(1,"Password confirmation is incorrect"),e.qZA())}function N(t,i){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,A,2,0,"p",29),e.YNc(2,U,2,0,"p",29),e.qZA()),2&t){const o=e.oxw();let s,r;e.xp6(1),e.Q6J("ngIf",null==(s=o.registerForm.get("rePassword"))?null:s.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("rePassword"))?null:r.getError("mismatch"))}}function E(t,i){1&t&&(e.TgZ(0,"p",30),e._uU(1,"accept only egypt phone numbers "),e.qZA())}function F(t,i){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,E,2,0,"p",29),e.qZA()),2&t){const o=e.oxw();let s;e.xp6(1),e.Q6J("ngIf",null==(s=o.registerForm.get("phone"))?null:s.getError("pattern"))}}function J(t,i){1&t&&e._UZ(0,"i",31)}let b=(()=>{class t{constructor(o,s,r){this._AuthService=o,this._Router=s,this._FormBuilder=r,this.errMsg="",this.spinner=!1,this.registerForm=new n.cw({name:new n.NI("",[n.kI.required,n.kI.minLength(3),n.kI.maxLength(20)]),email:new n.NI("",[n.kI.required,n.kI.email]),password:new n.NI("",[n.kI.required,n.kI.minLength(8),n.kI.pattern(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*()\-_=+{};:,<.>]).{8,}$/)]),rePassword:new n.NI(""),phone:new n.NI("",[n.kI.required,n.kI.pattern(/^01[0125][0-9]{8}$/)])},{Validators:[this.confirmPassword]}),this.showPassword=!1,this.showRePassword=!1}confirmPassword(o){const s=o.get("password"),r=o.get("rePassword");" "==r?.value?r?.setErrors({required:!0}):s?.value!=r?.value&&r?.setErrors({mismatch:!0})}handleForm(){const o=this.registerForm.value;this.spinner=!0,!0===this.registerForm.valid&&this._AuthService.register(o).subscribe({next:s=>{"success"==s.message&&(this._Router.navigate(["/login"]),this.spinner=!1)},error:s=>{this.errMsg=s.error.message,this.spinner=!1}})}togglePassword(){this.showPassword=!this.showPassword}toggleRePassword(){this.showRePassword=!this.showRePassword}static#e=this.\u0275fac=function(s){return new(s||t)(e.Y36(c.e),e.Y36(d.F0),e.Y36(n.qu))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],standalone:!0,features:[e.jDz],decls:48,vars:13,consts:[[1,"w-80","mx-auto","shadow","rounded","p-4","my-3","bg-main0light"],[1,"container","h-100","mt-2"],[3,"formGroup","ngSubmit"],[1,"text-center","fs-4","fw-bold","mb-5","mx-md-4","m-2","text-success"],["class"," text-danger text-center my-2 ","role","alert",4,"ngIf"],[1,"d-flex","flex-row","align-items-center","mb-4"],[1,"fas","fa-user","fa-lg","me-3","text-success"],[1,"form-outline","flex-fill","mb-0"],["for","email",1,"name"],["formControlName","name","type","text","id","Name",1,"form-control"],[4,"ngIf"],[1,"fas","fa-envelope","fa-lg","me-3","fa-fw","text-success"],["for","email",1,"form-label"],["formControlName","email","type","email","id","email",1,"form-control"],[1,"fas","fa-lock","fa-lg","me-3","fa-fw","text-success"],[1,"form-outline","flex-fill","mb-0","position-relative"],["for","password",1,"form-label"],["formControlName","password","id","password",1,"form-control",3,"type"],[1,"fas",2,"position","absolute","top","40px","right","10px","cursor","pointer","color","#6c757d",3,"ngClass","click"],[1,"fas","fa-key","fa-lg","me-3","fa-fw","text-success"],["for","rePassword",1,"form-label"],["formControlName","rePassword","id","rePassword",1,"form-control",3,"type"],[1,"fas","fa-phone","fa-lg","me-3","fa-fw","text-success"],["for","phone",1,"form-label"],["formControlName","phone","type","tel","id","phone",1,"form-control"],[1,"d-flex","justify-content-center","mx-4","mb-3","mb-lg-4"],["type","submit",1,"main-btn","w-100",3,"disabled"],["class","fas fa-spin fa-spinner",4,"ngIf"],["role","alert",1,"text-danger","text-center","my-2"],["class","text-danger mt-2",4,"ngIf"],[1,"text-danger","mt-2"],[1,"fas","fa-spin","fa-spinner"]],template:function(s,r){if(1&s&&(e.TgZ(0,"section",0)(1,"div",1)(2,"form",2),e.NdJ("ngSubmit",function(){return r.handleForm()}),e.TgZ(3,"p",3),e._uU(4,"Register Form"),e.qZA(),e.YNc(5,h,2,1,"div",4),e.TgZ(6,"div",5),e._UZ(7,"i",6),e.TgZ(8,"div",7)(9,"label",8),e._uU(10,"Name"),e.qZA(),e._UZ(11,"input",9),e.YNc(12,v,4,3,"div",10),e.qZA()(),e.TgZ(13,"div",5),e._UZ(14,"i",11),e.TgZ(15,"div",7)(16,"label",12),e._uU(17,"Your Email"),e.qZA(),e._UZ(18,"input",13),e.YNc(19,R,3,2,"div",10),e.qZA()(),e.TgZ(20,"div",5),e._UZ(21,"i",14),e.TgZ(22,"div",15)(23,"label",16),e._uU(24,"Password"),e.qZA(),e._UZ(25,"input",17),e.TgZ(26,"i",18),e.NdJ("click",function(){return r.togglePassword()}),e.qZA(),e.YNc(27,q,3,2,"div",10),e.qZA()(),e.TgZ(28,"div",5),e._UZ(29,"i",19),e.TgZ(30,"div",15)(31,"label",20),e._uU(32,"Confirm password"),e.qZA(),e._UZ(33,"input",21),e.TgZ(34,"i",18),e.NdJ("click",function(){return r.toggleRePassword()}),e.qZA(),e.YNc(35,N,3,2,"div",10),e.qZA()(),e.TgZ(36,"div",5),e._UZ(37,"i",22),e.TgZ(38,"div",7)(39,"label",23),e._uU(40,"Phone"),e.qZA(),e._UZ(41,"input",24),e.YNc(42,F,2,1,"div",10),e.qZA()(),e.TgZ(43,"div",25)(44,"button",26),e._uU(45," Register "),e.TgZ(46,"span"),e.YNc(47,J,1,0,"i",27),e.qZA()()()()()()),2&s){let l,m,g,p,_;e.xp6(2),e.Q6J("formGroup",r.registerForm),e.xp6(3),e.Q6J("ngIf",r.errMsg),e.xp6(7),e.Q6J("ngIf",(null==(l=r.registerForm.get("name"))?null:l.errors)&&(null==(l=r.registerForm.get("name"))?null:l.touched)),e.xp6(7),e.Q6J("ngIf",(null==(m=r.registerForm.get("email"))?null:m.errors)&&(null==(m=r.registerForm.get("email"))?null:m.touched)),e.xp6(6),e.Q6J("type",r.showPassword?"text":"password"),e.xp6(1),e.Q6J("ngClass",r.showPassword?"fa-eye-slash":"fa-eye"),e.xp6(1),e.Q6J("ngIf",(null==(g=r.registerForm.get("password"))?null:g.errors)&&(null==(g=r.registerForm.get("password"))?null:g.touched)),e.xp6(6),e.Q6J("type",r.showRePassword?"text":"password"),e.xp6(1),e.Q6J("ngClass",r.showRePassword?"fa-eye-slash":"fa-eye"),e.xp6(1),e.Q6J("ngIf",(null==(p=r.registerForm.get("rePassword"))?null:p.errors)&&(null==(p=r.registerForm.get("rePassword"))?null:p.touched)),e.xp6(7),e.Q6J("ngIf",(null==(_=r.registerForm.get("phone"))?null:_.errors)&&(null==(_=r.registerForm.get("phone"))?null:_.touched)),e.xp6(2),e.Q6J("disabled",r.registerForm.invalid),e.xp6(3),e.Q6J("ngIf",r.spinner)}},dependencies:[u.ez,u.mk,u.O5,n.UX,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u]})}return t})()}}]);